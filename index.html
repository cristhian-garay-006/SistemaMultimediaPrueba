<!DOCTYPE html>
<!--
	NOTES:
	1. All tokens are represented by '$' sign in the template.
	2. You can write your code only wherever mentioned.
	3. All occurrences of existing tokens will be replaced by their appropriate values.
	4. Blank lines will be removed automatically.
	5. Remove unnecessary comments before creating your template.
-->
<html>

<head>
	<meta charset="UTF-8">
	<meta name="authoring-tool" content="Adobe_Animate_CC">
	<title>Garay_Final (1)</title>
	<!-- FontAwesome Icons -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<!-- write your code here -->
	<style>
		body {
			overflow: hidden;
			margin: 0;
			padding: 0;
			background: radial-gradient(circle at center, #1a2a6c, #b21f1f, #fdbb2d);
			background-size: 200% 200%;
			animation: gradient 15s ease infinite;
			font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
		}

		@keyframes gradient {
			0% {
				background-position: 0% 50%;
			}

			50% {
				background-position: 100% 50%;
			}

			100% {
				background-position: 0% 50%;
			}
		}

		/* Particle Background */
		#particles {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			z-index: 1;
			pointer-events: none;
		}

		#animation_container {
			position: absolute;
			margin: auto;
			left: 0;
			right: 0;
			top: 0;
			bottom: 0;
			z-index: 10;
			box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
			border-radius: 12px;
			overflow: hidden;
			opacity: 0;
			transform: scale(0.8);
			transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
		}

		#animation_container.pop-in {
			opacity: 1;
			transform: scale(1);
		}

		/* Loader Styles */
		#loader {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: rgba(20, 20, 20, 0.95);
			z-index: 9999;
			display: flex;
			justify-content: center;
			align-items: center;
			flex-direction: column;
			transition: opacity 0.5s ease;
		}

		.spinner {
			width: 60px;
			height: 60px;
			border: 6px solid #333;
			border-top: 6px solid #00f260;
			border-radius: 50%;
			animation: spin 0.8s linear infinite;
			box-shadow: 0 0 15px rgba(0, 242, 96, 0.5);
			transition: all 0.3s ease;
		}

		.loading-text {
			margin-top: 20px;
			color: #fff;
			font-weight: 300;
			letter-spacing: 2px;
			font-size: 1.2rem;
			text-transform: uppercase;
			transition: all 0.3s ease;
		}

		/* Start Button */
		#start-btn {
			display: none;
			padding: 15px 40px;
			font-size: 1.5rem;
			background: transparent;
			border: 2px solid #00f260;
			color: #00f260;
			border-radius: 50px;
			cursor: pointer;
			text-transform: uppercase;
			letter-spacing: 2px;
			box-shadow: 0 0 20px rgba(0, 242, 96, 0.3);
			transition: all 0.3s ease;
			animation: pulse-btn 2s infinite;
		}

		#start-btn:hover {
			background: #00f260;
			color: #111;
			box-shadow: 0 0 40px rgba(0, 242, 96, 0.6);
			transform: scale(1.05);
		}

		@keyframes spin {
			0% {
				transform: rotate(0deg);
			}

			100% {
				transform: rotate(360deg);
			}
		}

		@keyframes pulse-btn {
			0% {
				box-shadow: 0 0 0 0 rgba(0, 242, 96, 0.4);
			}

			70% {
				box-shadow: 0 0 0 20px rgba(0, 242, 96, 0);
			}

			100% {
				box-shadow: 0 0 0 0 rgba(0, 242, 96, 0);
			}
		}
	</style>
	<script src="https://code.createjs.com/1.0.0/createjs.min.js"></script>
	<script src="game.js"></script>
	<script>
		if (typeof createjs === 'undefined') {
			alert("Error: createjs library not loaded. Please check your internet connection or local file setup.");
		}
	</script>
	<script>
		// Particle System
		function initParticles() {
			const canvas = document.getElementById('particles');
			const ctx = canvas.getContext('2d');
			let particles = [];

			function resize() {
				canvas.width = window.innerWidth;
				canvas.height = window.innerHeight;
			}
			window.addEventListener('resize', resize);
			resize();

			class Particle {
				constructor() {
					this.x = Math.random() * canvas.width;
					this.y = Math.random() * canvas.height;
					this.vx = (Math.random() - 0.5) * 0.5;
					this.vy = (Math.random() - 0.5) * 0.5;
					this.size = Math.random() * 3;
					this.color = `rgba(255, 255, 255, ${Math.random() * 0.5})`;
				}
				update() {
					this.x += this.vx;
					this.y += this.vy;
					if (this.x < 0) this.x = canvas.width;
					if (this.x > canvas.width) this.x = 0;
					if (this.y < 0) this.y = canvas.height;
					if (this.y > canvas.height) this.y = 0;
				}
				draw() {
					ctx.fillStyle = this.color;
					ctx.beginPath();
					ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
					ctx.fill();
				}
			}

			for (let i = 0; i < 100; i++) particles.push(new Particle());

			function animate() {
				ctx.clearRect(0, 0, canvas.width, canvas.height);
				particles.forEach(p => {
					p.update();
					p.draw();
				});
				requestAnimationFrame(animate);
			}
			animate();
		}

		var canvas, stage, exportRoot, anim_container, dom_overlay_container, fnStartAnimation;
		function init() {
			initParticles(); // Start particles
			canvas = document.getElementById("canvas");
			anim_container = document.getElementById("animation_container");
			dom_overlay_container = document.getElementById("dom_overlay_container");
			var comp = AdobeAn.getComposition("BC1075AC502ED5478D160DBB6936C2DC");
			var lib = comp.getLibrary();
			var loader = new createjs.LoadQueue(false);
			loader.addEventListener("fileload", function (evt) { handleFileLoad(evt, comp) });
			loader.addEventListener("complete", function (evt) { handleComplete(evt, comp) });
			var lib = comp.getLibrary();
			loader.loadManifest(lib.properties.manifest);
		}
		function handleFileLoad(evt, comp) {
			var images = comp.getImages();
			if (evt && (evt.item.type == "image")) { images[evt.item.id] = evt.result; }
		}
		function handleComplete(evt, comp) {
			//This function is always called, irrespective of the content. You can use the variable "stage" after it is created in token create_stage.
			var lib = comp.getLibrary();
			var ss = comp.getSpriteSheet();
			var queue = evt.target;
			var ssMetadata = lib.ssMetadata;
			for (i = 0; i < ssMetadata.length; i++) {
				ss[ssMetadata[i].name] = new createjs.SpriteSheet({ "images": [queue.getResult(ssMetadata[i].name)], "frames": ssMetadata[i].frames })
			}
			exportRoot = new lib.Garay_Final1();
			stage = new lib.Stage(canvas);
			stage.enableMouseOver();
			//Registers the "tick" event listener.
			fnStartAnimation = function () {
				stage.addChild(exportRoot);
				createjs.Ticker.framerate = lib.properties.fps;
				createjs.Ticker.addEventListener("tick", stage);
			}
			//Code to support hidpi screens and responsive scaling.
			AdobeAn.makeResponsive(true, 'both', true, 2, [canvas, anim_container, dom_overlay_container]);
			AdobeAn.compositionLoaded(lib.properties.id);
			fnStartAnimation();

			// Prepare Entrance
			document.querySelector(".spinner").style.display = "none";
			document.querySelector(".loading-text").style.display = "none";
			document.getElementById("start-btn").style.display = "block";
		}

		function startSystem() {
			var loader = document.getElementById("loader");
			var container = document.getElementById("animation_container");

			// Play Audio
			if ('speechSynthesis' in window) {
				var utterance = new SpeechSynthesisUtterance("Bienvenido al instituto Federal Alemana");
				utterance.lang = 'es-ES';
				utterance.rate = 0.9;
				window.speechSynthesis.speak(utterance);
			}

			// Transition
			loader.style.opacity = "0";
			setTimeout(function () {
				loader.style.display = "none";
				container.classList.add("pop-in");
			}, 500);
		}
	</script>
	<!-- write your code here -->
</head>

<body onload="init();" style="margin:0px;">
	<canvas id="particles"></canvas>
	<div id="loader">
		<div class="spinner"></div>
		<p class="loading-text">Cargando Sistema...</p>
		<button id="start-btn" onclick="startSystem()">
			<i class="fas fa-power-off"></i> Iniciar Sistema
		</button>
	</div>
	<div id="animation_container" style="background-color:rgba(255, 255, 255, 0); width:550px; height:400px">
		<canvas id="canvas" width="550" height="400"
			style="position: absolute; display: block; background-color:rgba(255, 255, 255, 1.00);"></canvas>
		<div id="dom_overlay_container"
			style="pointer-events:none; overflow:hidden; width:550px; height:400px; position: absolute; left: 0px; top: 0px; display: block;">
		</div>
	</div>
</body>

</html>